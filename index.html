<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>cube</title>
<style>
html, body {
  margin: 0;
  padding: 0;
  font-family: Tahoma, Verdana, Arial, sans-serif;
  background-color: #242424;
  height: 100vh;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}
#loading-background {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  z-index: 8;
}
#loading-background img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}
.top-bar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 20px;
  border-bottom: 1px solid #444;
  background-color: #242424;
}
.logo {
  display: flex;
  align-items: center;
}
.search-bar {
  position: relative;
  display: flex;
  align-items: center;
}
.search-bar input {
  border: none;
  background: url('searchbox_unfocused.png') no-repeat right center;
  background-size: contain;
  padding: 10px 45px 10px 15px;
  color: white;
  outline: none;
  box-sizing: border-box;
  font-size: 16px;
}
.search-bar input:focus {
  background-image: url('searchbox_focused.png');
  color: white;
}
.nav-bar {
  display: flex;
  justify-content: center;
  padding: 10px;
  border-bottom: 1px solid #444;
  background-color: #242424;
}
.nav-bar a {
  color: #bbb;
  margin: 0 20px;
  text-decoration: none;
  font-size: 18px;
  padding: 8px 16px;
  border: 3px solid transparent;
  outline: none;
}
.nav-bar a:focus {
  background: linear-gradient(to bottom, #5C9730, #4c7c28);
  border: 3px solid #fff;
  color: #fff;
}
.main-content {
  flex-grow: 1;
  background-color: #242424;
  overflow-y: auto;
  padding: 20px 0 0 0;
  display: flex;
  justify-content: center;
  max-height: calc(100vh - 122px);
}
.content-section {
  display: flex;
  justify-content: center;
  width: 920px;
}
.content-items {
  display: grid;
  grid-template-columns: repeat(4, 220px);
  grid-auto-rows: 124px;
  gap: 10px;
}
.content-item {
  width: 220px;
  height: 124px;
  border: 1px solid #666666;
  box-sizing: border-box;
  overflow: hidden;
  cursor: pointer;
}
.content-item:focus {
  border: 3px solid #fff;
  background: rgba(255, 255, 255, 0.05);
  outline: none;
}
.content-item img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}
#loading-indicator {
  position: absolute;
  top: 20px;
  left: 20px;
  display: flex;
  align-items: center;
  color: white;
  font-size: 18px;
  font-weight: bold;
  z-index: 10;
}
#loading-indicator img {
  height: 24px;
  margin-right: 10px;
}
#center-logo {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 9;
}
#errorOverlay {
  position: fixed;
  top:0; left:0; right:0; bottom:0;
  background: rgba(0,0,0,0.8);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 20;
  font-size: 36px;
  color: #fff;
  cursor: pointer;
}
</style>
</head>
<body>

<div id="loading-background"><img src="companion_background.png" alt="loading background" /></div>
<div id="loading-indicator">
  <img src="spinner_loading.gif" alt="Loading" />
  Loading
</div>
<div id="center-logo">
  <img src="hulu_color_large.png" />
</div>
<div class="top-bar" style="display:none;">
  <div class="logo">
    <img src="hulu_color_small.png" alt="hulu" />
  </div>
  <form class="search-bar" onsubmit="handleSearch(event)">
    <input type="text" id="searchInput" tabindex="0" autocomplete="off" />
  </form>
</div>

<div class="nav-bar" style="display:none;">
  <a href="#" tabindex="0" class="nav-link">Popular Shows</a>
  <a href="#" tabindex="0" class="nav-link">Popular Episodes</a>
  <a href="#" tabindex="0" class="nav-link">Popular Clips</a>
</div>

<div class="main-content" style="display:none;">
  <div class="content-section">
    <div class="content-items" id="contentItems">
      <!-- Static images as in your original code -->
      <div class="content-item" tabindex="0"><img src="https://via.placeholder.com/600x338?text=The+Rookie" alt="The Rookie" /></div>
      <div class="content-item" tabindex="0"><img src="https://via.placeholder.com/600x338?text=Will+Trent" alt="Will Trent" /></div>
      <div class="content-item" tabindex="0"><img src="https://via.placeholder.com/600x338?text=The+Handmaids+Tale" alt="The Handmaid's Tale" /></div>
      <div class="content-item" tabindex="0"><img src="https://via.placeholder.com/600x338?text=General+Hospital" alt="General Hospital" /></div>
      <div class="content-item" tabindex="0"><img src="https://via.placeholder.com/600x338?text=High+Maintenance" alt="High Maintenance" /></div>
      <div class="content-item" tabindex="0"><img src="https://via.placeholder.com/600x338?text=Alert+Missing+Persons+Unit" alt="Alert Missing Persons Unit" /></div>
      <div class="content-item" tabindex="0"><img src="https://via.placeholder.com/600x338?text=American+Idol" alt="American Idol" /></div>
      <div class="content-item" tabindex="0"><img src="https://via.placeholder.com/600x338?text=The+Cleaning+Lady" alt="The Cleaning Lady" /></div>
      <div class="content-item" tabindex="0"><img src="https://via.placeholder.com/600x338?text=Vanderpump+Villa" alt="Vanderpump Villa" /></div>
      <div class="content-item" tabindex="0"><img src="https://via.placeholder.com/600x338?text=The+View" alt="The View" /></div>
      <div class="content-item" tabindex="0"><img src="https://via.placeholder.com/600x338?text=Power+Book+3" alt="Power Book 3: Raising Kanan" /></div>
      <div class="content-item" tabindex="0"><img src="https://via.placeholder.com/600x338?text=Good+American+Family" alt="Good American Family" /></div>
      <div class="content-item" tabindex="0"><img src="https://via.placeholder.com/600x338?text=Happily+Ever+After" alt="Happily Ever After" /></div>
      <div class="content-item" tabindex="0"><img src="https://via.placeholder.com/600x338?text=Chopped" alt="Chopped" /></div>
      <div class="content-item" tabindex="0"><img src="https://via.placeholder.com/600x338?text=World+News+Tonight" alt="World News Tonight with David Muir" /></div>
      <div class="content-item" tabindex="0"><img src="https://via.placeholder.com/600x338?text=Family+Guy" alt="Family Guy" /></div>
    </div>
  </div>
</div>

<script>
const imgs = document.querySelectorAll('.content-item');

const overlay = document.getElementById('errorOverlay');

function showError() {
  overlay.style.display = 'flex';
}

overlay.addEventListener('click', () => {
  overlay.style.display = 'none';
});

document.addEventListener('DOMContentLoaded', () => {
  const loading = document.getElementById('loading-indicator');
  const loadingBg = document.getElementById('loading-background');
  const logo = document.getElementById('center-logo');
  const topBar = document.querySelector('.top-bar');
  const navBar = document.querySelector('.nav-bar');
  const mainContent = document.querySelector('.main-content');
  const searchInput = document.getElementById('searchInput');

  setTimeout(() => {
    loading.style.display = 'none';
    loadingBg.style.display = 'none';
    logo.style.display = 'none';

    topBar.style.display = 'flex';
    navBar.style.display = 'flex';
    mainContent.style.display = 'flex';

    if (imgs.length > 0) {
      imgs[0].focus();
    }
    searchInput.focus();
  }, 2000);

  window.handleSearch = function(event) {
    event.preventDefault();
    const val = searchInput.value.toLowerCase();
    imgs.forEach(img => {
      const altText = img.querySelector('img').alt.toLowerCase();
      img.style.display = altText.includes(val) ? 'block' : 'none';
    });
  };

  document.addEventListener('keydown', (e) => {
    const active = document.activeElement;
    if (active && active.classList.contains('content-item')) {
      const index = Array.prototype.indexOf.call(imgs, active);
      const cols = 4;
      const total = imgs.length;
      let newIndex = index;
      if (e.key === 'ArrowRight') {
        newIndex = (index + 1) % total;
        imgs[newIndex].focus();
        e.preventDefault();
      } else if (e.key === 'ArrowLeft') {
        newIndex = (index - 1 + total) % total;
        imgs[newIndex].focus();
        e.preventDefault();
      } else if (e.key === 'ArrowDown') {
        newIndex = (index + cols) % total;
        imgs[newIndex].focus();
        e.preventDefault();
      } else if (e.key === 'ArrowUp') {
        newIndex = (index - cols + total) % total;
        imgs[newIndex].focus();
        e.preventDefault();
      }
    } else if (e.key === 'Enter') {
      if (document.activeElement && document.activeElement.classList.contains('content-item')) {
        showError();
        e.preventDefault();
      }
    }
  });

  imgs.forEach(img => {
    img.addEventListener('click', () => {
      showError();
    });
  });
});
</script>
</body>
</html>
